{"ast":null,"code":"var _jsxFileName = \"/home/sebastian/Documentos/FT10-PI-Pokemon/client/src/components/form/Form.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport style from './Form.module.css';\nimport axios from 'axios';\nimport Select from '../select/Select';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { pokeTypeGet } from '../../redux/action/select';\nimport { postPokemon } from '../../redux/action/postPokemon';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Form() {\n  _s();\n\n  const {\n    select\n  } = useSelector(state => state);\n  const dispatch = useDispatch();\n  const [maxId, setMaxId] = React.useState({\n    id: false\n  });\n  React.useEffect(() => {\n    dispatch(pokeTypeGet());\n    axios.get('http://localhost:3001/pokemons/MaxIdPokemon').then(resp => {\n      setMaxId(resp.data);\n    });\n  }, []);\n  console.log(maxId); // ESTADO EN DONDE SE GUARDA EL FORMULARIO\n\n  const [form, setForm] = React.useState({\n    name: null,\n    hp: null,\n    attack: null,\n    defense: null,\n    speed: null,\n    weight: null,\n    height: null,\n    image: null,\n    id: null,\n    type: null\n  }); // CADA VEZ QUE OCURRA UN CAMBIO SE ACTUALIZA EL ESTADO\n\n  const handleForm = v => {\n    const value = v.target.value;\n    const checked = v.target.checked;\n    const name = v.target.name;\n    setForm({ ...form,\n      [name]: value\n    });\n  };\n\n  console.log(form); //VALIDANDO EL FORMULARIO\n\n  const [err, setErr] = React.useState({\n    name: false,\n    hp: false,\n    attack: false,\n    defense: false,\n    speed: false,\n    weight: false,\n    height: false,\n    btn: false,\n    image: false\n  });\n  const expresions = {\n    text: /^[a-zA-ZÀ-ÿ\\s]{1,40}$/,\n    email: /^(([^<>()\\[\\]\\\\.,;:\\s@”]+(\\.[^<>()\\[\\]\\\\.,;:\\s@”]+)*)|(“.+”))@((\\[[0–9]{1,3}\\.[0–9]{1,3}\\.[0–9]{1,3}\\.[0–9]{1,3}])|(([a-zA-Z\\-0–9]+\\.)+[a-zA-Z]{2,}))$/,\n    number: /^[0,1,2,3,4,5,6,7,8,9,10]{1,2}$/,\n    password: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[$@$!%*?&])[A-Za-z\\d$@$!%*?&]{8,15}/\n  };\n\n  const validate = k => {\n    const key = k.key;\n    const name = k.target.name;\n\n    switch (name) {\n      case 'name':\n        if (!expresions.text.test(form.name) && form.name !== '') {\n          setErr({ ...err,\n            name: true,\n            btn: true\n          });\n        } else {\n          setErr({ ...err,\n            name: false,\n            btn: false\n          });\n        }\n\n        break;\n\n      case 'hp':\n        if (!expresions.number.test(form.hp) && form.hp !== '') {\n          setErr({ ...err,\n            hp: true,\n            btn: true\n          });\n        } else {\n          setErr({ ...err,\n            hp: false,\n            btn: false\n          });\n        }\n\n        break;\n\n      case 'attack':\n        if (!expresions.number.test(form.attack) && form.attack !== '') {\n          setErr({ ...err,\n            attack: true,\n            btn: true\n          });\n        } else {\n          setErr({ ...err,\n            attack: false,\n            btn: false\n          });\n        }\n\n        break;\n\n      case 'defense':\n        if (!expresions.number.test(form.defense) && form.defense !== '') {\n          setErr({ ...err,\n            defense: true,\n            btn: true\n          });\n        } else {\n          setErr({ ...err,\n            defense: false,\n            btn: false\n          });\n        }\n\n        break;\n\n      case 'speed':\n        if (!expresions.number.test(form.speed) && form.speed !== '') {\n          setErr({ ...err,\n            speed: true,\n            btn: true\n          });\n        } else {\n          setErr({ ...err,\n            speed: false,\n            btn: false\n          });\n        }\n\n        break;\n\n      case 'weight':\n        if (!expresions.number.test(form.weight) && form.weight !== '') {\n          setErr({ ...err,\n            weight: true,\n            btn: true\n          });\n        } else {\n          setErr({ ...err,\n            weight: false,\n            btn: false\n          });\n        }\n\n        break;\n\n      case 'height':\n        if (!expresions.number.test(form.height) && form.height !== '') {\n          setErr({ ...err,\n            height: true,\n            btn: true\n          });\n        } else {\n          setErr({ ...err,\n            height: false,\n            btn: false\n          });\n        }\n\n        break;\n    }\n  }; // Envío de datos al localstorage\n\n\n  const [final, setFinal] = React.useState('P1');\n\n  const handleBtn = v => {\n    v.preventDefault();\n    let array = [];\n    console.log(\"este es F\", final);\n\n    if (final === 'P1') {\n      if (maxId.id) {\n        form.id = maxId.id + 1;\n\n        if (form.attack && form.defense && form.height && form.hp && form.id && form.id && form.image && form.name && form.speed && form.weight) {\n          setFinal('P2');\n        } else {\n          alert('Fill in the form');\n        }\n      }\n\n      ;\n    }\n\n    ;\n\n    if (final === 'P2') {\n      setFinal('P3');\n    }\n\n    ;\n\n    if (final === 'P3') {\n      if (v.target.id == 0) {\n        setFinal('P4');\n      }\n\n      if (v.target.id == 1) {\n        let number = localStorage.getItem('id1');\n        console.log(number);\n        form.type = [number];\n        dispatch(postPokemon(form));\n        setFinal('final');\n      }\n    }\n\n    ;\n\n    if (final === 'P4') {\n      let number = localStorage.getItem('id1');\n      let number2 = localStorage.getItem('id2');\n      form.type = [number, number2];\n      dispatch(postPokemon(form));\n      setFinal('final');\n    }\n\n    ;\n  }; //    subir imagenes a un servidor web\n\n\n  const handleImage = async e => {\n    const files = e.target.files;\n    const data = new FormData();\n    data.append(\"file\", files[0]);\n    data.append(\"upload_preset\", \"Product\");\n    setErr({ ...err,\n      image: true\n    });\n    const res = await fetch(\"\thttps://api.cloudinary.com/v1_1/dtqd9ehbe/image/upload\", {\n      method: \"POST\",\n      body: data\n    });\n    const file = await res.json();\n    const url = file.secure_url;\n    setForm({ ...form,\n      image: url\n    });\n    setErr({ ...err,\n      image: false\n    });\n  };\n\n  const dataTypes = {\n    title: false,\n    types: []\n  };\n\n  if (select !== undefined && select.results.length !== 0) {\n    dataTypes.title = 'Select type';\n    dataTypes.types = select.results;\n  }\n\n  console.log(dataTypes);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: style.containerForm,\n    children: final === 'P1' ? /*#__PURE__*/_jsxDEV(\"form\", {\n      className: style.form,\n      onChange: handleForm,\n      onKeyUp: validate,\n      children: [err.name ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: style.labelErr,\n          children: \"Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: style.inputError,\n          type: \"text\",\n          name: \"name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: style.p,\n          children: \"The information entered is not valid\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: style.input,\n          type: \"text\",\n          name: \"name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true), err.hp ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \" HP:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: style.inputError,\n          name: \"hp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: style.p,\n          children: \"The information entered is not valid\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \" HP:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: style.input,\n          name: \"hp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true), err.attack ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Attack:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: style.inputError,\n          name: \"attack\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: style.p,\n          children: \"The information entered is not valid\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Attack:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: style.input,\n          name: \"attack\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true), err.defense ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Defense:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: style.inputError,\n          name: \"defense\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: style.p,\n          children: \"The information entered is not valid\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Defense:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: style.input,\n          name: \"defense\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true), err.speed ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Speed:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: style.inputError,\n          name: \"speed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: style.p,\n          children: \"The information entered is not valid\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Speed:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: style.input,\n          name: \"speed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true), err.weight ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Weight:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: style.inputError,\n          name: \"weight\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: style.p,\n          children: \"The information entered is not valid\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Weight:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: style.input,\n          name: \"weight\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true), err.height ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Height:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: style.inputError,\n          name: \"height\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: style.p,\n          children: \"The information entered is not valid\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Height:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: style.input,\n          name: \"height\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.fileContainer,\n        children: [err.image ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: style.fileText,\n          children: \"Loading ...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 40\n        }, this) : form.image ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: style.fileText,\n          children: \" Uploaded Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 102\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: style.fileText,\n          children: \" Upload Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 154\n        }, this), form.image ? /*#__PURE__*/_jsxDEV(\"input\", {\n          className: style.file,\n          name: \"image\",\n          type: \"file\",\n          accept: \"image/png, image/jpeg, image/jpg\",\n          onChange: handleImage,\n          disabled: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 40\n        }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n          className: style.file,\n          name: \"image\",\n          type: \"file\",\n          accept: \"image/png, image/jpeg, image/jpg\",\n          onChange: handleImage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 175\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 16\n      }, this), err.btn ? /*#__PURE__*/_jsxDEV(\"button\", {\n        className: style.btnError,\n        disabled: true,\n        children: \"Error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        className: style.btn,\n        onClick: handleBtn,\n        children: \"Enviar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 17\n    }, this) : final === 'P2' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.FMtypes,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: style.FMtypesTitle,\n          children: \"Select one category for your pokemon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 25\n        }, this), dataTypes.title === 'Select type' ? /*#__PURE__*/_jsxDEV(Select, {\n          datos: dataTypes,\n          from: {\n            name: 'dashboard'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 63\n        }, this) : '', /*#__PURE__*/_jsxDEV(\"button\", {\n          className: style.btn,\n          onClick: handleBtn,\n          children: \"Enviar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 21\n      }, this)\n    }, void 0, false) : final === 'P3' ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.FMtypes,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: style.FMtypesTitle,\n        children: \"you want to enter another category?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.btn,\n        id: 0,\n        onClick: handleBtn,\n        children: \"YES\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.btn,\n        id: 1,\n        onClick: handleBtn,\n        children: \"NO\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 21\n    }, this) : final === 'P4' ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.FMtypes,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: style.FMtypesTitle,\n        children: \"Select one category for your pokemon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 25\n      }, this), dataTypes.title === 'Select type' ? /*#__PURE__*/_jsxDEV(Select, {\n        datos: dataTypes,\n        from: {\n          name: 'dashboard2'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 63\n      }, this) : '', /*#__PURE__*/_jsxDEV(\"button\", {\n        className: style.btn,\n        onClick: handleBtn,\n        children: \"Enviar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: style.FMtypesTitle,\n      children: \"Submitted form\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 22\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 243,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Form, \"pCH4yJbDHTCQfWY2U4lWBL6o8YE=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"sources":["/home/sebastian/Documentos/FT10-PI-Pokemon/client/src/components/form/Form.jsx"],"names":["React","style","axios","Select","useDispatch","useSelector","pokeTypeGet","postPokemon","Form","select","state","dispatch","maxId","setMaxId","useState","id","useEffect","get","then","resp","data","console","log","form","setForm","name","hp","attack","defense","speed","weight","height","image","type","handleForm","v","value","target","checked","err","setErr","btn","expresions","text","email","number","password","validate","k","key","test","final","setFinal","handleBtn","preventDefault","array","alert","localStorage","getItem","number2","handleImage","e","files","FormData","append","res","fetch","method","body","file","json","url","secure_url","dataTypes","title","types","undefined","results","length","containerForm","labelErr","inputError","p","input","fileContainer","fileText","btnError","FMtypes","FMtypesTitle"],"mappings":"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","sourcesContent":["import React from 'react'\nimport style from './Form.module.css';\nimport axios from 'axios'\nimport Select from '../select/Select';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { pokeTypeGet } from '../../redux/action/select';\nimport { postPokemon } from '../../redux/action/postPokemon';\n\nfunction Form() {\n\n    const  { select } =  useSelector((state) => state);\n    const dispatch= useDispatch()\n\n    const [maxId, setMaxId]= React.useState({id:false})\n    React.useEffect(()=>{\n        dispatch(pokeTypeGet())\n        axios.get('http://localhost:3001/pokemons/MaxIdPokemon')\n        .then(\n            (resp)=>{setMaxId(resp.data)}\n        )\n       \n    }, [])\n\n\n    console.log(maxId)\n    // ESTADO EN DONDE SE GUARDA EL FORMULARIO\n    const [form, setForm] = React.useState({\n        name:null,\n        hp:null,\n        attack:null,\n        defense:null,\n        speed: null,\n        weight: null,\n        height: null,\n        image:null,\n        id: null,\n        type:null\n\n        \n    });\n\n    // CADA VEZ QUE OCURRA UN CAMBIO SE ACTUALIZA EL ESTADO\n    const handleForm = (v)=>{\n        const value= v.target.value;\n        const checked = v.target.checked;\n        const name= v.target.name;\n\n        setForm({\n            ...form, [name]: value,\n        });\n\n\n\n\n    }\n    console.log(form)\n    //VALIDANDO EL FORMULARIO\n    const [err, setErr]= React.useState({\n        name: false,\n        hp:false,\n        attack: false,\n        defense: false,\n        speed: false,\n        weight:false,\n        height:false,\n        btn: false,\n        image: false,\n\n    })\n\n    const expresions= {\n        text:/^[a-zA-ZÀ-ÿ\\s]{1,40}$/,\n        email: /^(([^<>()\\[\\]\\\\.,;:\\s@”]+(\\.[^<>()\\[\\]\\\\.,;:\\s@”]+)*)|(“.+”))@((\\[[0–9]{1,3}\\.[0–9]{1,3}\\.[0–9]{1,3}\\.[0–9]{1,3}])|(([a-zA-Z\\-0–9]+\\.)+[a-zA-Z]{2,}))$/,\n        number:/^[0,1,2,3,4,5,6,7,8,9,10]{1,2}$/,\n        password: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[$@$!%*?&])[A-Za-z\\d$@$!%*?&]{8,15}/,\n\n    }\n    const validate = (k)=>{\n        const key = k.key;\n        const name = k.target.name;\n        switch (name) {\n            case 'name':\n                if(!expresions.text.test(form.name) && form.name !== ''){\n                    setErr({\n                        ...err, name: true, btn: true\n                    });\n                }else{\n                    setErr({\n                        ...err, name: false, btn: false\n                    });\n                }\n                break\n            case 'hp':\n                if(!expresions.number.test(form.hp) && form.hp !== ''){\n                    setErr({\n                        ...err, hp: true, btn: true\n                    });\n                }else{\n                    setErr({\n                        ...err, hp: false, btn: false\n                    });\n                }\n                break\n           case 'attack':\n                if(!expresions.number.test(form.attack) && form.attack  !== ''){\n                    setErr({\n                        ...err, attack: true, btn: true\n                    });\n                }else{\n                    setErr({\n                        ...err, attack: false, btn: false\n                    });\n                }\n                break\n            case 'defense':\n                if(!expresions.number.test(form.defense) && form.defense  !== ''){\n                    setErr({\n                        ...err, defense: true, btn: true\n                    });\n                }else{\n                    setErr({\n                        ...err, defense: false, btn: false\n                    });\n                }\n                break\n             case 'speed':\n                if(!expresions.number.test(form.speed) && form.speed  !== ''){\n                    setErr({\n                        ...err, speed: true, btn: true\n                    });\n                }else{\n                    setErr({\n                        ...err, speed: false, btn: false\n                    });\n                }\n                break\n            case 'weight':\n                if(!expresions.number.test(form.weight) && form.weight  !== ''){\n                    setErr({\n                        ...err, weight: true, btn: true\n                    });\n                }else{\n                    setErr({\n                        ...err, weight: false, btn: false\n                    });\n                }\n                break\n            case 'height':\n                if(!expresions.number.test(form.height) && form.height  !== ''){\n                    setErr({\n                        ...err, height: true, btn: true\n                    });\n                }else{\n                    setErr({\n                        ...err, height: false, btn: false\n                    });\n                }\n                break\n        }\n    }\n\n\n    // Envío de datos al localstorage\n    const [final, setFinal]= React.useState('P1')\n   const handleBtn = (v)=>{\n       v.preventDefault()\n       let array = [];\n       console.log(\"este es F\",final)\n       if(final === 'P1'){\n            if(maxId.id){\n                form.id= maxId.id + 1;\n                if(form.attack && form.defense && form.height && form.hp && form.id && form.id && form.image && form.name && form.speed && form.weight){\n                    setFinal('P2')    \n                }else{\n                    alert('Fill in the form')\n                }\n            };\n       };\n       if(final === 'P2'){\n        setFinal('P3')\n       };\n       if(final === 'P3'){\n        \n            if(v.target.id == 0){\n               setFinal('P4')\n            }\n            if(v.target.id == 1){\n                let number = localStorage.getItem('id1')\n                console.log(number)\n                form.type=[number]\n                dispatch(postPokemon(form))\n                setFinal('final')\n            }\n       };\n\n       if(final === 'P4'){\n        let number = localStorage.getItem('id1')\n        let number2 = localStorage.getItem('id2')\n        form.type=[number, number2]\n        dispatch(postPokemon(form))\n        setFinal('final')\n        \n       };\n      \n      \n   }\n\n   \n\n\n\n//    subir imagenes a un servidor web\n    const handleImage= async (e) => {\n        const files = e.target.files;\n        const data = new FormData();\n        data.append(\"file\", files[0]);\n        data.append(\"upload_preset\", \"Product\");\n        setErr({...err, image: true});\n        const res = await fetch(\n        \"\thttps://api.cloudinary.com/v1_1/dtqd9ehbe/image/upload\",\n        {\n            method: \"POST\",\n            body: data\n        }\n        );\n        const file = await res.json();\n        const url = file.secure_url;\n        setForm({ ...form, image: url });\n        setErr({...err, image: false});\n    };\n    \n\n\n\n\n    const dataTypes= {title: false, types:[]};\n    if(select !== undefined && select.results.length !== 0){\n        dataTypes.title='Select type';\n        dataTypes.types= select.results;\n    }\n    console.log(dataTypes)\n    return (\n        <div className={style.containerForm}>\n           {\n               final === 'P1' ? (\n                <form className={style.form} onChange={handleForm} onKeyUp={validate} >\n                {\n                    err.name ? (\n                        <>\n                        <label className={style.labelErr}>Name:</label>\n                        <input className={style.inputError} type=\"text\" name='name' />\n                        <p className={style.p}>The information entered is not valid</p>\n                        </>\n                    ):(\n                        <>\n                        <label>Name:</label>\n                        <input className={style.input} type=\"text\" name='name' />\n                        </>\n                    )\n                }\n                {\n                    err.hp ? (\n                        <>\n                        <label> HP:</label>\n                        <input className={style.inputError} name='hp'/>\n                        <p className={style.p}>The information entered is not valid</p>\n                        </>\n                    ):(\n                        <>\n                        <label> HP:</label>\n                        <input className={style.input}  name='hp'/>\n                        </>\n                    )\n                }\n               {\n                   err.attack ? (\n                        <>\n                        <label>Attack:</label>\n                        <input className={style.inputError}  name='attack' />\n                        <p className={style.p}>The information entered is not valid</p>\n                        </>\n                   ):(\n                    <>\n                    <label>Attack:</label>\n                    <input className={style.input}  name='attack' />\n                    </>\n                   )\n               }\n               {\n                   err.defense? (\n                    <>\n                    <label>Defense:</label>\n                    <input className={style.inputError}  name='defense' />\n                    <p className={style.p}>The information entered is not valid</p>\n\n                    </>\n                   ):(\n                    <>\n                    <label>Defense:</label>\n                    <input className={style.input}  name='defense' />\n                    </>\n                   )\n               }\n               \n                {\n                   err.speed? (\n                    <>\n                    <label>Speed:</label>\n                    <input className={style.inputError}  name='speed' />\n                    <p className={style.p}>The information entered is not valid</p>\n\n                    </>\n                   ):(\n                    <>\n                    <label>Speed:</label>\n                    <input className={style.input}  name='speed' />\n                    </>\n                   )\n               }\n               {\n                   err.weight? (\n                    <>\n                    <label>Weight:</label>\n                    <input className={style.inputError}  name='weight' />\n                    <p className={style.p}>The information entered is not valid</p>\n\n                    </>\n                   ):(\n                    <>\n                    <label>Weight:</label>\n                    <input className={style.input}  name='weight' />\n                    </>\n                   )\n               }\n               {\n                   err.height? (\n                    <>\n                    <label>Height:</label>\n                    <input className={style.inputError}  name='height' />\n                    <p className={style.p}>The information entered is not valid</p>\n\n                    </>\n                   ):(\n                    <>\n                    <label>Height:</label>\n                    <input className={style.input}  name='height' />\n                    </>\n                   )\n               }\n\n               <div className={style.fileContainer}>\n                       {err.image  ? ( <p className={style.fileText}>Loading ...</p>): form.image ? (<p className={style.fileText}> Uploaded Image</p>):(<p className={style.fileText}> Upload Image</p>)}\n                       {form.image ? ( <input className={style.file} name='image' type='file'  accept=\"image/png, image/jpeg, image/jpg\" onChange={handleImage} disabled/>):( <input className={style.file} name='image' type='file'  accept=\"image/png, image/jpeg, image/jpg\" onChange={handleImage}/>)}\n              </div>\n\n                {\n                    err.btn  ? (\n                        <button className={style.btnError}  disabled>Error</button>\n                    ):(\n                        <button className={style.btn} onClick={handleBtn}>Enviar</button>\n                    )\n                }\n\n            </form>\n                   ):\n                  final === 'P2' ? (\n                    <>\n                    {/* <Select datos={dataTypes}/> */}\n\n                    <div className={style.FMtypes}>\n                        <h1 className={style.FMtypesTitle}>Select one category for your pokemon</h1>\n                        {\n                          dataTypes.title === 'Select type' ?(<Select datos={dataTypes} from={{name:'dashboard'}}/>):('')\n                        }\n                        <button className={style.btn} onClick={handleBtn}>Enviar</button>\n                    </div>\n                    </>\n                    ):\n                    final === 'P3'?(\n\n                    <div className={style.FMtypes}>\n                        <h1  className={style.FMtypesTitle}>you want to enter another category?</h1>\n                        <div className={style.btn} id={0} onClick={handleBtn}>YES</div>\n                        <div className={style.btn} id={1} onClick={handleBtn}>NO</div>\n                    </div>\n                    ):\n                    final === 'P4' ?(\n                    <div  className={style.FMtypes}>\n                        <h1 className={style.FMtypesTitle}>Select one category for your pokemon</h1>\n                        {\n                          dataTypes.title === 'Select type' ?(<Select datos={dataTypes} from={{name:'dashboard2'}}/>):('')\n                        }\n                        <button className={style.btn} onClick={handleBtn}>Enviar</button>\n                    </div>\n                    ):\n                    (<h1 className={style.FMtypesTitle}>Submitted form</h1>)\n           }\n        </div>\n    )\n}\n\nexport default Form;\n"]},"metadata":{},"sourceType":"module"}